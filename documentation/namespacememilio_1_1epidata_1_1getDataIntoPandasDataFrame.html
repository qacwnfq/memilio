<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MEmilio: memilio.epidata.getDataIntoPandasDataFrame Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MEmilio
   &#160;<span id="projectnumber">0.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>memilio</b></li><li class="navelem"><a class="el" href="namespacememilio_1_1epidata.html">epidata</a></li><li class="navelem"><a class="el" href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html">getDataIntoPandasDataFrame</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">memilio.epidata.getDataIntoPandasDataFrame Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmemilio_1_1epidata_1_1getDataIntoPandasDataFrame_1_1DataError.html">DataError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1013afe979bca7ebe119340b0c280054"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#a1013afe979bca7ebe119340b0c280054">append_filename</a> (filename='', impute_dates=False, moving_average=0, split_berlin=False, rep_date=False)</td></tr>
<tr class="memdesc:a1013afe979bca7ebe119340b0c280054"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates consistent file names for all output.  <a href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#a1013afe979bca7ebe119340b0c280054">More...</a><br /></td></tr>
<tr class="separator:a1013afe979bca7ebe119340b0c280054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac43b9b0d99aaa1c40b689ef11fc3b4fe"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#ac43b9b0d99aaa1c40b689ef11fc3b4fe">check_dir</a> (directory)</td></tr>
<tr class="memdesc:ac43b9b0d99aaa1c40b689ef11fc3b4fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks existence and creates folder.  <a href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#ac43b9b0d99aaa1c40b689ef11fc3b4fe">More...</a><br /></td></tr>
<tr class="separator:ac43b9b0d99aaa1c40b689ef11fc3b4fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e4ac14d2c2299cf608fe20d85c0ef04"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#a4e4ac14d2c2299cf608fe20d85c0ef04">cli</a> (what)</td></tr>
<tr class="memdesc:a4e4ac14d2c2299cf608fe20d85c0ef04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines command line interface.  <a href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#a4e4ac14d2c2299cf608fe20d85c0ef04">More...</a><br /></td></tr>
<tr class="separator:a4e4ac14d2c2299cf608fe20d85c0ef04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dd6d49c817aca7bc3c78f434c899b9a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#a9dd6d49c817aca7bc3c78f434c899b9a">loadCsv</a> (targetFileName, apiUrl='https://opendata.arcgis.com/datasets/', extension='.csv', param_dict={})</td></tr>
<tr class="memdesc:a9dd6d49c817aca7bc3c78f434c899b9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads data sets in CSV format.  <a href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#a9dd6d49c817aca7bc3c78f434c899b9a">More...</a><br /></td></tr>
<tr class="separator:a9dd6d49c817aca7bc3c78f434c899b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eaf088772fc790d0896b2ea74b7a09e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#a3eaf088772fc790d0896b2ea74b7a09e">loadExcel</a> (targetFileName, apiUrl='https://opendata.arcgis.com/datasets/', extension='.xls', param_dict={})</td></tr>
<tr class="separator:a3eaf088772fc790d0896b2ea74b7a09e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4c57c6b6b23fc7272ba16b5476c0e51"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#af4c57c6b6b23fc7272ba16b5476c0e51">loadGeojson</a> (targetFileName, apiUrl='https://opendata.arcgis.com/datasets/', extension='geojson')</td></tr>
<tr class="memdesc:af4c57c6b6b23fc7272ba16b5476c0e51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads data default: ArcGIS data sets in GeoJSON format.  <a href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#af4c57c6b6b23fc7272ba16b5476c0e51">More...</a><br /></td></tr>
<tr class="separator:af4c57c6b6b23fc7272ba16b5476c0e51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a887d50603bff5897aace524abc10f3c6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#a887d50603bff5897aace524abc10f3c6">write_dataframe</a> (df, directory, file_prefix, file_type, param_dict={})</td></tr>
<tr class="memdesc:a887d50603bff5897aace524abc10f3c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes pandas dataframe to file.  <a href="namespacememilio_1_1epidata_1_1getDataIntoPandasDataFrame.html#a887d50603bff5897aace524abc10f3c6">More...</a><br /></td></tr>
<tr class="separator:a887d50603bff5897aace524abc10f3c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1013afe979bca7ebe119340b0c280054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1013afe979bca7ebe119340b0c280054">&#9670;&nbsp;</a></span>append_filename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getDataIntoPandasDataFrame.append_filename </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>impute_dates</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>moving_average</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>split_berlin</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rep_date</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates consistent file names for all output. </p>

</div>
</div>
<a id="ac43b9b0d99aaa1c40b689ef11fc3b4fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac43b9b0d99aaa1c40b689ef11fc3b4fe">&#9670;&nbsp;</a></span>check_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getDataIntoPandasDataFrame.check_dir </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>directory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks existence and creates folder. </p>
<p>It is checked if the folder given in the parameter "directory" exists. If it does not exist it is created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directory</td><td>directory which should exist </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4e4ac14d2c2299cf608fe20d85c0ef04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e4ac14d2c2299cf608fe20d85c0ef04">&#9670;&nbsp;</a></span>cli()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getDataIntoPandasDataFrame.cli </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>what</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines command line interface. </p>
<p>The function parameter "what" is used as a dictionary key. The return of the dictionary is either a list of a string and a list of keywords. The string is the message that should be printed when working on the specific package. The further list, contains all special command line arguments which are needed for this package.</p>
<p>If the key is not part of the dictionary the program is stopped.</p>
<p>The following default arguments are added to the parser:</p><ul>
<li>read-from-disk</li>
<li>file-format, choices = ['json', 'hdf5', 'json_timeasstring']</li>
<li>out_path</li>
<li>no_raw The default values are defined in default dict.</li>
</ul>
<p>Depending on what following parser can be added:</p><ul>
<li>start_date</li>
<li>end_date</li>
<li>impute_dates</li>
<li>moving_average</li>
<li>make_plot</li>
<li>split_berlin</li>
<li>rep_date</li>
<li>sanitize_data</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">what</td><td>Defines what packages calls and thus what kind of command line arguments should be defined. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9dd6d49c817aca7bc3c78f434c899b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dd6d49c817aca7bc3c78f434c899b9a">&#9670;&nbsp;</a></span>loadCsv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getDataIntoPandasDataFrame.loadCsv </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>targetFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>apiUrl</em> = <code>'https://opendata.arcgis.com/datasets/'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extension</em> = <code>'.csv'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>param_dict</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads data sets in CSV format. </p>
<p>(pandas DataFrame) This routine loads data sets (default from ArcGIS) in CSV format of the given public data item ID into a pandas DataFrame and returns the DataFrame.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetFileName</td><td>&ndash; file name which should be downloaded, for ArcGIS it should be public data item ID (string) </td></tr>
    <tr><td class="paramname">apiUrl</td><td>&ndash; API URL (string, default '<a href="https://opendata.arcgis.com/datasets/'">https://opendata.arcgis.com/datasets/'</a>) </td></tr>
    <tr><td class="paramname">extension</td><td>&ndash; Data format extension (string, default '.csv') </td></tr>
    <tr><td class="paramname">param_dict</td><td>&ndash; Defines the parameter for read_csv: "sep": Delimiter to use (string, default ',') "header": Row to use for column labels (Use None if there is no header) (int, default 0) "encoding": Encoding to use for UTF when reading (string, default None) "dtype": Data type for data or column (dict of column -&gt; type, default None) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dataframe </dd></dl>

</div>
</div>
<a id="a3eaf088772fc790d0896b2ea74b7a09e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eaf088772fc790d0896b2ea74b7a09e">&#9670;&nbsp;</a></span>loadExcel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getDataIntoPandasDataFrame.loadExcel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>targetFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>apiUrl</em> = <code>'https://opendata.arcgis.com/datasets/'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extension</em> = <code>'.xls'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>param_dict</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> Loads ArcGIS data sets in Excel formats (xls,xlsx,xlsm,xlsb,odf,ods,odt). (pandas DataFrame)

This routine loads data sets (default from ArcGIS) in Excel format of the given public data
item ID into a pandas DataFrame and returns the DataFrame.

Keyword arguments:
targetFileName -- file name which should be downloaded, for ArcGIS it should be public data item ID (string)
apiUrl -- API URL (string, default
          'https://opendata.arcgis.com/datasets/')
extension -- Data format extension (string, default '.xls')
param_dict -- Defines the parameter for read_excel:
        "sheetname": sheet from Excel file which should be in DataFrame
        (string (sheetname) or integer (zero-indexed sheet position), default 0)
        "header": row to use for column labels (Use None if there is no header) (int, default 0)
        "engine": defines engine for reading (str, default 'openpyxl')
</pre> 
</div>
</div>
<a id="af4c57c6b6b23fc7272ba16b5476c0e51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4c57c6b6b23fc7272ba16b5476c0e51">&#9670;&nbsp;</a></span>loadGeojson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getDataIntoPandasDataFrame.loadGeojson </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>targetFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>apiUrl</em> = <code>'https://opendata.arcgis.com/datasets/'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extension</em> = <code>'geojson'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads data default: ArcGIS data sets in GeoJSON format. </p>
<p>(pandas DataFrame) This routine loads datasets default: ArcGIS data sets in GeoJSON format of the given public data item ID into a pandas DataFrame and returns the DataFrame. Trivial information gets removed by JSON normalization and dropping of always constant data fields.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetFileName</td><td>&ndash; File name without ending, for ArcGIS use public data item ID (string) </td></tr>
    <tr><td class="paramname">apiUrl</td><td>&ndash; URL to file (default: ArcGIS data sets API URL (string, default '<a href="https://opendata.arcgis.com/datasets/'">https://opendata.arcgis.com/datasets/'</a>)) </td></tr>
    <tr><td class="paramname">extension</td><td>&ndash; Data format extension (string, default 'geojson') return dataframe </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a887d50603bff5897aace524abc10f3c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a887d50603bff5897aace524abc10f3c6">&#9670;&nbsp;</a></span>write_dataframe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getDataIntoPandasDataFrame.write_dataframe </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>df</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>param_dict</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes pandas dataframe to file. </p>
<p>This routine writes a pandas dataframe to a file in a given format. The filename is given without ending. A file_type can be</p><ul>
<li>json</li>
<li>json_timeasstring [Default]</li>
<li>hdf5</li>
<li>txt The file_type defines the file format and thus also the file ending. The file format can be json, hdf5 or txt. For this option the column Date is converted from datetime to string.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">df</td><td>pandas dataframe (pandas DataFrame) </td></tr>
    <tr><td class="paramname">directory</td><td>directory where to safe (string) </td></tr>
    <tr><td class="paramname">file_prefix</td><td>filename without ending (string) </td></tr>
    <tr><td class="paramname">file_type</td><td>defines ending (string) </td></tr>
    <tr><td class="paramname">param_dict</td><td>defines parameters for to_csv/txt(dictionary) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
